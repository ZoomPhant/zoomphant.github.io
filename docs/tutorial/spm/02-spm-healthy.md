---
layout: default
title: 健康度
parent: 服务性能监控(SPM)
nav_order: 2
grand_parent: 教程
---
# 健康度
{:.header}
---
健康度是衡量服务健康状态的一个综合性指标，有三种状态：
- 健康
- 亚健康
- 不健康

![spm-0.png](/assets/images/tutorial/spm/spm-0.png)

要体现健康度的不同状态，就需要有一个衡量健康度的方法/算法，健康度包含4个方面：
- 域名解析健康度
    - 可以通过域名解析到IP地址为健康
    - 不能通过域名解析到IP地址为不健康
- 网络状态健康度
    - 通过域名解析到的IP地址是可以访问的(能够建立连接)为健康
    - 通过域名解析到的IP地址是不可以访问的(能够建立连接)为不健康
- 服务状态健康度
    - 如果用户没有配置功能巡检，则网站服务地址为关键巡检，如果网站服务地址的功能异常则服务状态不健康，关于功能巡检，可参考[功能巡检]({{ site.baseurl }}{% link docs/tutorial/spm/10-spm-telemetry.md %})
        - 非2xx的返回码为功能异常
    - 如果用户配置了关键功能巡检，则任意一个关键功能巡检失败，服务状态为不健康
    - 如果用户配置了非关键功能巡检，则没有关键巡检失败的情况下，任意多非关键功能巡检异常，服务状态为亚健康
    - 如果请求的加载时间超过了用户定义的SLA中的最大加载时间，服务状态为亚健康
    - 上述不健康和亚健康之外的其他情况，服务状态为健康
- SSL证书健康度
    - SSL证书正常则为健康
    - SSL证书即将过期(30天)则为亚健康
    - SSL证书已过期且网站服务可正常访问则为亚健康
    - SSL证书已过期且网站服务不可用则为不健康
    - 如果该网站没有采用SSL证书,则为不适用
    
有了上述对健康度的衡量方法，我们比较方便对健康度进行评价：
- 健康
    - 域名解析健康
    - 网络状态健康
    - 服务状态健康
    - SSL证书健康
- 亚健康
    - 任意多个(域名解析+网络状态+服务状态+SSL证书)的状态为亚健康则网站服务的状态为亚健康
- 不健康
    - 任意1个(域名解析+网络状态+服务状态+SSL证书)的状态为不健康则网站服务的状态为不健康

继续阅读：
* [状态指标]({{ site.baseurl }}{% link docs/tutorial/spm/03-spm-status.md %})